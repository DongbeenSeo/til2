## React Rendering

> ref) https://medium.com/vingle-tech-blog/react-%EB%A0%8C%EB%8D%94%EB%A7%81-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-f255d6569849

### React가 렌더링을 실행하는 과정

1. Props가 변경되었을 때
2. State가 변경되었을 때
3. _forceUpdate()_ 를 실행하였을 때
4. 부모 컴포넌트가 렌더링 되었을 때

하지만 컴포넌트에서 렌더링 결과에 전혀 영향을 미치지 않는 변경사항이 발생하게 된다면, 불필요한 렌더링이 발생 하므로 성능 손실이 발생합니다. 이는 렌더링에서 수행하는 로직이 많을 수록, 많은 컴포넌트를 출력할 수록 손실은 배가 됩니다.

이럴 때 사용하는 것이 `shouldComponentUpdate` 이라는 라이프사이클 메서드입니다. 이 라이프사이클 메소드를 정의하면 컴포넌트 렌더링을 제어할 수 있게 되므로, 데이터가 변경되어 렌더링이 필요한 경우에만 렌더링 작업을 수행할 수 있습니다.

`shouldComponentUpdate` 메서드에서는 인자를 통해 변경되는 속성(Props)과 상태(State)를 수신할 수 있으며, 참을 반환하는 경우 렌더링을 수행하고, 거짓이면 갱신을 위한 렌더링을 수행하지 않습니다.

만일, 변경되는 데이터가 모두 원시값이거나 각각의 불변성을 보장할 수 있다면 `React.PureComponent`를 사용할 수 있습니다. `React.Component`에 `shouldComponentUpdate`가 미리 장착되어 있는 컴포넌트라고 생각하면 됩니다. 불변성을 강조한 이유는 shallow equal, 얕은 비교를 통해 컴포넌트의 렌더링을 결정하기 때문에 넘겨받는 Props, 사용하는 State를 잘 확인한 후 써주면 좋습니다.

### 불필요한 렌더링의 시나리오

상위의 컴포넌트에서 변화가 일어난다면(예를 들어, Redux로 구현된 컴포넌트의 경우), 하위 컴포넌트에 렌더링을 명령하게 됩니다. `따라서shouldComponentUpdate`나 `PureComponent` 등을 사용하지 않고 큰 앱을 개발하게된다면, 사소한 변경에 모든 컴포넌트가 렌더링을 행하기 때문에 성능저하를 일으킬 수 있습니다.
